{% macro displayRoles(type, id, name, data, prefix) %}

    {% import 'BaseBundle::macros.html.twig' as macros %}

    <div class="well">

        <h3>{{ ('admin.' ~ type ~ '_manage.roles_' ~ prefix)|trans({'%name%': name}) }}</h3>

        {{ macros.search('filter-role-' ~ prefix) }}

        <table class="table">
            <thead>
                <tr>
                    <th style="width: 20%;">{{ macros.orderBy(data.order, 'id', 'admin.roles.id') }}</th>
                    <th style="width: 50%;">{{ macros.orderBy(data.order, 'name', 'admin.roles.name') }}</th>
                    <th style="width: 30%;">{{ 'admin.roles.actions' | trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for role in data.pager.currentPageResults %}
                    <tr>
                        <td>{{ role.id }}</td>
                        <td>{{ role.name }}</td>
                        <td>
                            {% set path = path('admin_toggle', app.request.query.all|merge({fromType: type, fromId: id, toType: 'roles', toId: role.id, token: csrf_token('administration')})) %}
                            {% if prefix == 'in' %}
                                <a
                                    href="{{ path }}"
                                    class="btn btn-danger btn-sm">{{ ('admin.roles.remove_from')|trans }}</a>
                            {% else %}
                                <a
                                    href="{{ path }}"
                                    class="btn btn-success btn-sm">{{ ('admin.roles.add_to')|trans }}</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        {{ macros.pager(data.pager, 'role-' ~ prefix) }}

    </div>

{% endmacro %}
