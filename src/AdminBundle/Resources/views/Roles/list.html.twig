
{% extends 'AppBundle::layout.html.twig' %}

{% import 'BaseBundle::macros.html.twig' as macros %}

{% block title %}{{ 'admin.roles.manage' | trans }}{% endblock %}

{% block body %}

    <div class="well">

        {{ macros.search('role-filter') }}

        <table class="table">
            <thead>
                <tr>
                    <th style="width: 35%;">{{ macros.orderBy(orderBy, 'id', 'admin.roles.id') }}</th>
                    <th style="width: 35%;">{{ macros.orderBy(orderBy, 'name', 'admin.roles.name') }}</th>
                    <th style="width: 30%;">{{ 'admin.roles.actions' | trans }}</th>
                </tr>
            </thead>
            <tbody>
                {% for role in pager.currentPageResults %}
                    <tr>
                        <td>
                            {{ role.id }}
                        </td>
                        <td>
                            {{
                                include('BaseBundle::editOnClick.html.twig', {
                                    'text': role.name,
                                    'endpoint': path('_admin_roles_edit_name', {id: role.id}),
                                })
                            }}
                        </td>
                        <td>
                            <a
                                href="{{ path('admin_roles_delete', {id: role.id, token: csrf_token('admin_roles')}) }}"
                                data-message="{{ 'admin.roles.delete_confirm' | trans({'%id%': role.id}) | e('html_attr') }}"
                                class="requires-confirmation btn btn-danger btn-sm">{{ 'admin.roles.delete' | trans }}</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>

        {{ macros.pager(pager, 'role-') }}

    </div>

    {{ macros.form(create, [], 'admin.roles.create' | trans) }}

{% endblock %}
